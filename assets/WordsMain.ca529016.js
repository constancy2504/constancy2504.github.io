import{c as He,a as Qe,b as ie,Q as Ae}from"./QCardActions.ac45e1c1.js";import{a as L,Q as De}from"./QBtn.a2201c96.js";import{m as Ie,d as Ue,v as he,n as Fe,p as ge,u as Me,e as je,o as Ye,q as We,s as Ke,t as ve,w as Ge,x as Ve,y as Xe,z as Je,A as Ze,Q as et,b as tt,i as ot,a as nt}from"./QTable.5d8988b5.js";import{Q as lt,a as U}from"./QTr.57f32572.js";import{Q as at}from"./QToggle.af029bfc.js";import{Q as it}from"./QPagination.4d9239b0.js";import{a as rt,Q as st}from"./QCard.d6fe0ee4.js";import{l as ut,f as ct,Q as dt}from"./QInput.058c579f.js";import{a1 as ft,c as Se,r as q,a as $,w as X,o as ce,O as ye,N as we,a2 as mt,h as b,T as pt,g as xe,U as Pe,P as ht,ad as qe,V as ke,d as _e,n as gt,_ as vt,u as D,v as F,x as S,y as g,z as de,aA as A,aa as yt,ab as wt,E as fe,F as kt,A as Q,B as re}from"./index.b54b6b7c.js";import{Q as bt}from"./QBtnDropdown.d280dd66.js";import{u as Ct,a as Tt,b as St,c as xt,j as be,Q as Ce,h as Pt}from"./QList.b0e4c286.js";import{h as ze}from"./render.438f57a7.js";import{u as qt,a as _t}from"./use-dark.2c759efb.js";import{u as me,c as zt,r as $t,s as Ot}from"./common.8a01d5ac.js";import"./use-panel.200bb83e.js";import"./touch.3df10340.js";import"./axios.6e1fcf85.js";const Bt=Object.prototype.toString,se=Object.prototype.hasOwnProperty,Lt=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function Te(e){if(e!==Object(e)||Lt.has(Bt.call(e))===!0||e.constructor&&se.call(e,"constructor")===!1&&se.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let t;for(t in e);return t===void 0||se.call(e,t)}function $e(){let e,t,o,a,i,s,r=arguments[0]||{},f=1,v=!1;const _=arguments.length;for(typeof r=="boolean"&&(v=r,r=arguments[1]||{},f=2),Object(r)!==r&&typeof r!="function"&&(r={}),_===f&&(r=this,f--);f<_;f++)if((e=arguments[f])!==null)for(t in e)o=r[t],a=e[t],r!==a&&(v===!0&&a&&((i=Array.isArray(a))||Te(a)===!0)?(i===!0?s=Array.isArray(o)===!0?o:[]:s=Te(o)===!0?o:{},r[t]=$e(v,s,a)):a!==void 0&&(r[t]=a));return r}function Oe(e,t){if(t&&e===t)return null;const o=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(o)===!0)return e;const a=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,i=a.display;return i==="block"||i==="table"?e:Oe(e.parentNode)}function ue(e,t,o){return!e||e===document.body?!1:o===!0&&e===t||(t===document?document.body:t).contains(e.parentNode)}function Be(e,t,o){if(o||(o=document.createRange(),o.selectNode(e),o.setStart(e,0)),t.count===0)o.setEnd(e,t.count);else if(t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(o.setEnd(e,t.count),t.count=0);else for(let a=0;t.count!==0&&a<e.childNodes.length;a++)o=Be(e.childNodes[a],t,o);return o}const Rt=/^https?:\/\//;class Nt{constructor(t,o){this.el=t,this.eVm=o,this._range=null}get selection(){if(this.el){const t=document.getSelection();if(ue(t.anchorNode,this.el,!0)&&ue(t.focusNode,this.el,!0))return t}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const t=this.selection;return t!==null&&t.rangeCount?t.getRangeAt(0):this._range}get parent(){const t=this.range;if(t!==null){const o=t.startContainer;return o.nodeType===document.ELEMENT_NODE?o:o.parentNode}return null}get blockParent(){const t=this.parent;return t!==null?Oe(t,this.el):null}save(t=this.range){t!==null&&(this._range=t)}restore(t=this._range){const o=document.createRange(),a=document.getSelection();t!==null?(o.setStart(t.startContainer,t.startOffset),o.setEnd(t.endContainer,t.endOffset),a.removeAllRanges(),a.addRange(o)):(a.selectAllChildren(this.el),a.collapseToEnd())}savePosition(){let t=-1,o;const a=document.getSelection(),i=this.el.parentNode;if(a.focusNode&&ue(a.focusNode,i))for(o=a.focusNode,t=a.focusOffset;o&&o!==i;)o!==this.el&&o.previousSibling?(o=o.previousSibling,t+=o.textContent.length):o=o.parentNode;this.savedPos=t}restorePosition(t=0){if(this.savedPos>0&&this.savedPos<t){const o=window.getSelection(),a=Be(this.el,{count:this.savedPos});a&&(a.collapse(!1),o.removeAllRanges(),o.addRange(a))}}hasParent(t,o){const a=o?this.parent:this.blockParent;return a!==null?a.nodeName.toLowerCase()===t.toLowerCase():!1}hasParents(t,o,a=this.parent){return a===null?!1:t.includes(a.nodeName.toLowerCase())===!0?!0:o===!0?this.hasParents(t,o,a.parentNode):!1}is(t,o){if(this.selection===null)return!1;switch(t){case"formatBlock":return o==="DIV"&&this.parent===this.el||this.hasParent(o,o==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(t)===o;case"fontName":const a=document.queryCommandValue(t);return a===`"${o}"`||a===o;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const i=document.queryCommandState(t);return o!==void 0?i===o:i}}getParentAttribute(t){return this.parent!==null?this.parent.getAttribute(t):null}can(t){if(t==="outdent")return this.hasParents(["blockquote","li"],!0);if(t==="indent")return this.hasParents(["li"],!0);if(t==="link")return this.selection!==null||this.is("link")}apply(t,o,a=ft){if(t==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(o)&&this.is(t,o)&&(t="outdent",o=null),o==="PRE"&&this.is(t,"PRE")&&(o="P");else if(t==="print"){a();const i=window.open();i.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),i.print(),i.close();return}else if(t==="link"){const i=this.getParentAttribute("href");if(i===null){const s=this.selectWord(this.selection),r=s?s.toString():"";if(!r.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=Rt.test(r)?r:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(s.getRangeAt(0))}else this.eVm.editLinkUrl.value=i,this.range.selectNodeContents(this.parent),this.save();return}else if(t==="fullscreen"){this.eVm.toggleFullscreen(),a();return}else if(t==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),a();return}document.execCommand(t,!1,o),a()}selectWord(t){if(t===null||t.isCollapsed!==!0||t.modify===void 0)return t;const o=document.createRange();o.setStart(t.anchorNode,t.anchorOffset),o.setEnd(t.focusNode,t.focusOffset);const a=o.collapsed?["backward","forward"]:["forward","backward"];o.detach();const i=t.focusNode,s=t.focusOffset;return t.collapse(t.anchorNode,t.anchorOffset),t.modify("move",a[0],"character"),t.modify("move",a[1],"word"),t.extend(i,s),t.modify("extend",a[1],"character"),t.modify("extend",a[0],"word"),t}}var Et=Se({name:"QTooltip",inheritAttrs:!1,props:{...Ie,...Ct,...Ue,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:he},self:{type:String,default:"top middle",validator:he},offset:{type:Array,default:()=>[14,14],validator:Fe},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Tt],setup(e,{slots:t,emit:o,attrs:a}){let i,s;const r=xe(),{proxy:{$q:f}}=r,v=q(null),_=q(!1),y=$(()=>ge(e.anchor,f.lang.rtl)),w=$(()=>ge(e.self,f.lang.rtl)),u=$(()=>e.persistent!==!0),{registerTick:m,removeTick:k}=Me(),{registerTimeout:c}=St(),{transitionProps:d,transitionStyle:p}=je(e),{localScrollTarget:x,changeScrollEvent:O,unconfigureScrollTarget:J}=Ye(e,K),{anchorEl:B,canShow:M,anchorEvents:C}=We({showing:_,configureAnchorEl:ae}),{show:Z,hide:I}=xt({showing:_,canShow:M,handleShow:te,handleHide:oe,hideOnRouteChange:u,processOnMount:!0});Object.assign(C,{delayShow:ne,delayHide:le});const{showPortal:j,hidePortal:Y,renderPortal:ee}=Ke(r,v,V,"tooltip");if(f.platform.is.mobile===!0){const T={anchorEl:B,innerRef:v,onClickOutside(z){return I(z),z.target.classList.contains("q-dialog__backdrop")&&Pe(z),!0}},E=$(()=>e.modelValue===null&&e.persistent!==!0&&_.value===!0);X(E,z=>{(z===!0?Ve:ve)(T)}),ce(()=>{ve(T)})}function te(T){j(),m(()=>{s=new MutationObserver(()=>N()),s.observe(v.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),N(),K()}),i===void 0&&(i=X(()=>f.screen.width+"|"+f.screen.height+"|"+e.self+"|"+e.anchor+"|"+f.lang.rtl,N)),c(()=>{j(!0),o("show",T)},e.transitionDuration)}function oe(T){k(),Y(),W(),c(()=>{Y(!0),o("hide",T)},e.transitionDuration)}function W(){s!==void 0&&(s.disconnect(),s=void 0),i!==void 0&&(i(),i=void 0),J(),ye(C,"tooltipTemp")}function N(){Ge({targetEl:v.value,offset:e.offset,anchorEl:B.value,anchorOrigin:y.value,selfOrigin:w.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ne(T){if(f.platform.is.mobile===!0){be(),document.body.classList.add("non-selectable");const E=B.value,z=["touchmove","touchcancel","touchend","click"].map(H=>[E,H,"delayHide","passiveCapture"]);we(C,"tooltipTemp",z)}c(()=>{Z(T)},e.delay)}function le(T){f.platform.is.mobile===!0&&(ye(C,"tooltipTemp"),be(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),c(()=>{I(T)},e.hideDelay)}function ae(){if(e.noParentEvent===!0||B.value===null)return;const T=f.platform.is.mobile===!0?[[B.value,"touchstart","delayShow","passive"]]:[[B.value,"mouseenter","delayShow","passive"],[B.value,"mouseleave","delayHide","passive"]];we(C,"anchor",T)}function K(){if(B.value!==null||e.scrollTarget!==void 0){x.value=mt(B.value,e.scrollTarget);const T=e.noParentEvent===!0?N:I;O(x.value,T)}}function G(){return _.value===!0?b("div",{...a,ref:v,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",a.class],style:[a.style,p.value],role:"tooltip"},ze(t.default)):null}function V(){return b(pt,d.value,G)}return ce(W),Object.assign(r.proxy,{updatePosition:N}),ee}});function Le(e,t,o){t.handler?t.handler(e,o,o.caret):o.runCmd(t.cmd,t.param)}function pe(e){return b("div",{class:"q-editor__toolbar-group"},e)}function Re(e,t,o,a=!1){const i=a||(t.type==="toggle"?t.toggled?t.toggled(e):t.cmd&&e.caret.is(t.cmd,t.param):!1),s=[];if(t.tip&&e.$q.platform.is.desktop){const r=t.key?b("div",[b("small",`(CTRL + ${String.fromCharCode(t.key)})`)]):null;s.push(b(Et,{delay:1e3},()=>[b("div",{innerHTML:t.tip}),r]))}return b(L,{...e.buttonProps.value,icon:t.icon!==null?t.icon:void 0,color:i?t.toggleColor||e.props.toolbarToggleColor:t.color||e.props.toolbarColor,textColor:i&&!e.props.toolbarPush?null:t.textColor||e.props.toolbarTextColor,label:t.label,disable:t.disable?typeof t.disable=="function"?t.disable(e):!0:!1,size:"sm",onClick(r){o&&o(),Le(r,t,e)}},()=>s)}function Ht(e,t){const o=t.list==="only-icons";let a=t.label,i=t.icon!==null?t.icon:void 0,s,r;function f(){_.component.proxy.hide()}if(o)r=t.options.map(y=>{const w=y.type===void 0?e.caret.is(y.cmd,y.param):!1;return w&&(a=y.tip,i=y.icon!==null?y.icon:void 0),Re(e,y,f,w)}),s=e.toolbarBackgroundClass.value,r=[pe(r)];else{const y=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,w=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,u=t.list==="no-icons";r=t.options.map(m=>{const k=m.disable?m.disable(e):!1,c=m.type===void 0?e.caret.is(m.cmd,m.param):!1;c&&(a=m.tip,i=m.icon!==null?m.icon:void 0);const d=m.htmlTip;return b(Pt,{active:c,activeClass:y,clickable:!0,disable:k,dense:!0,onClick(p){f(),e.contentRef.value!==null&&e.contentRef.value.focus(),e.caret.restore(),Le(p,m,e)}},()=>[u===!0?null:b(Ce,{class:c?y:w,side:!0},()=>b(De,{name:m.icon!==null?m.icon:void 0})),b(Ce,d?()=>b("div",{class:"text-no-wrap",innerHTML:m.htmlTip}):m.tip?()=>b("div",{class:"text-no-wrap"},m.tip):void 0)])}),s=[e.toolbarBackgroundClass.value,w]}const v=t.highlight&&a!==t.label,_=b(bt,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:v?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:v&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:t.fixedLabel?t.label:a,icon:t.fixedIcon?t.icon!==null?t.icon:void 0:i,contentClass:s,onShow:y=>e.emit("dropdownShow",y),onHide:y=>e.emit("dropdownHide",y),onBeforeShow:y=>e.emit("dropdownBeforeShow",y),onBeforeHide:y=>e.emit("dropdownBeforeHide",y)},()=>r);return _}function Qt(e){if(e.caret)return e.buttons.value.filter(t=>!e.isViewingSource.value||t.find(o=>o.cmd==="viewsource")).map(t=>pe(t.map(o=>e.isViewingSource.value&&o.cmd!=="viewsource"?!1:o.type==="slot"?ze(e.slots[o.slot]):o.type==="dropdown"?Ht(e,o):Re(e,o))))}function At(e,t,o,a={}){const i=Object.keys(a);if(i.length===0)return{};const s={default_font:{cmd:"fontName",param:e,icon:o,tip:t}};return i.forEach(r=>{const f=a[r];s[r]={cmd:"fontName",param:f,icon:o,tip:f,htmlTip:`<font face="${f}">${f}</font>`}}),s}function Dt(e){if(e.caret){const t=e.props.toolbarColor||e.props.toolbarTextColor;let o=e.editLinkUrl.value;const a=()=>{e.caret.restore(),o!==e.editLinkUrl.value&&document.execCommand("createLink",!1,o===""?" ":o),e.editLinkUrl.value=null};return[b("div",{class:`q-mx-xs text-${t}`},`${e.$q.lang.editor.url}: `),b("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:o,onInput:i=>{ht(i),o=i.target.value},onKeydown:i=>{if(qe(i)!==!0)switch(i.keyCode){case 13:return ke(i),a();case 27:ke(i),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),pe([b(L,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),b(L,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:a})])]}}var It=Se({name:"QEditor",props:{...qt,...Xe,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(t=>t.length),default(){return[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]}},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...Je,"update:modelValue","keydown","click","mouseup","keyup","touchend","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:t,emit:o,attrs:a}){const{proxy:i,vnode:s}=xe(),{$q:r}=i,f=_t(e,r),{inFullscreen:v,toggleFullscreen:_}=Ze(),y=ut(a,s),w=q(null),u=q(null),m=q(null),k=q(!1),c=$(()=>!e.readonly&&!e.disable);let d,p,x=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),d=window.getComputedStyle(document.body).fontFamily;const O=$(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),J=$(()=>{const n=e.toolbarOutline!==!0&&e.toolbarPush!==!0;return{type:"a",flat:n,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!c.value,size:"sm"}}),B=$(()=>{const n=r.lang.editor,l=r.iconSet.editor;return{bold:{cmd:"bold",icon:l.bold,tip:n.bold,key:66},italic:{cmd:"italic",icon:l.italic,tip:n.italic,key:73},strike:{cmd:"strikeThrough",icon:l.strikethrough,tip:n.strikethrough,key:83},underline:{cmd:"underline",icon:l.underline,tip:n.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:l.unorderedList,tip:n.unorderedList},ordered:{cmd:"insertOrderedList",icon:l.orderedList,tip:n.orderedList},subscript:{cmd:"subscript",icon:l.subscript,tip:n.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:l.superscript,tip:n.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:h=>h.caret&&!h.caret.can("link"),icon:l.hyperlink,tip:n.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:l.toggleFullscreen,tip:n.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:l.viewSource,tip:n.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:l.quote,tip:n.quote,key:81},left:{cmd:"justifyLeft",icon:l.left,tip:n.left},center:{cmd:"justifyCenter",icon:l.center,tip:n.center},right:{cmd:"justifyRight",icon:l.right,tip:n.right},justify:{cmd:"justifyFull",icon:l.justify,tip:n.justify},print:{type:"no-state",cmd:"print",icon:l.print,tip:n.print,key:80},outdent:{type:"no-state",disable:h=>h.caret&&!h.caret.can("outdent"),cmd:"outdent",icon:l.outdent,tip:n.outdent},indent:{type:"no-state",disable:h=>h.caret&&!h.caret.can("indent"),cmd:"indent",icon:l.indent,tip:n.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:l.removeFormat,tip:n.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:l.hr,tip:n.hr},undo:{type:"no-state",cmd:"undo",icon:l.undo,tip:n.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:l.redo,tip:n.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:l.heading1||l.heading,tip:n.heading1,htmlTip:`<h1 class="q-ma-none">${n.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:l.heading2||l.heading,tip:n.heading2,htmlTip:`<h2 class="q-ma-none">${n.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:l.heading3||l.heading,tip:n.heading3,htmlTip:`<h3 class="q-ma-none">${n.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:l.heading4||l.heading,tip:n.heading4,htmlTip:`<h4 class="q-ma-none">${n.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:l.heading5||l.heading,tip:n.heading5,htmlTip:`<h5 class="q-ma-none">${n.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:l.heading6||l.heading,tip:n.heading6,htmlTip:`<h6 class="q-ma-none">${n.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:l.heading,tip:n.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:l.code,htmlTip:`<code>${n.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:l.size1||l.size,tip:n.size1,htmlTip:`<font size="1">${n.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:l.size2||l.size,tip:n.size2,htmlTip:`<font size="2">${n.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:l.size3||l.size,tip:n.size3,htmlTip:`<font size="3">${n.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:l.size4||l.size,tip:n.size4,htmlTip:`<font size="4">${n.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:l.size5||l.size,tip:n.size5,htmlTip:`<font size="5">${n.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:l.size6||l.size,tip:n.size6,htmlTip:`<font size="6">${n.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:l.size7||l.size,tip:n.size7,htmlTip:`<font size="7">${n.size7}</font>`}}}),M=$(()=>{const n=e.definitions||{},l=e.definitions||e.fonts?$e(!0,{},B.value,n,At(d,r.lang.editor.defaultFont,r.iconSet.editor.font,e.fonts)):B.value;return e.toolbar.map(h=>h.map(P=>{if(P.options)return{type:"dropdown",icon:P.icon,label:P.label,size:"sm",dense:!0,fixedLabel:P.fixedLabel,fixedIcon:P.fixedIcon,highlight:P.highlight,list:P.list,options:P.options.map(Ee=>l[Ee])};const R=l[P];return R?R.type==="no-state"||n[P]&&(R.cmd===void 0||B.value[R.cmd]&&B.value[R.cmd].type==="no-state")?R:Object.assign({type:"toggle"},R):{type:"slot",slot:P}}))}),C={$q:r,props:e,slots:t,emit:o,inFullscreen:v,toggleFullscreen:_,runCmd:E,isViewingSource:k,editLinkUrl:m,toolbarBackgroundClass:O,buttonProps:J,contentRef:u,buttons:M,setContent:T};X(()=>e.modelValue,n=>{x!==n&&(x=n,T(n,!0))}),X(m,n=>{o(`link${n?"Show":"Hide"}`)});const Z=$(()=>e.toolbar&&e.toolbar.length!==0),I=$(()=>{const n={},l=h=>{h.key&&(n[h.key]={cmd:h.cmd,param:h.param})};return M.value.forEach(h=>{h.forEach(P=>{P.options?P.options.forEach(l):l(P)})}),n}),j=$(()=>v.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),Y=$(()=>`q-editor q-editor--${k.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(v.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(f.value===!0?" q-editor--dark q-dark":"")),ee=$(()=>[e.contentClass,"q-editor__content",{col:v.value,"overflow-auto":v.value||e.maxHeight}]),te=$(()=>e.disable===!0?{"aria-disabled":"true"}:e.readonly===!0?{"aria-readonly":"true"}:{});function oe(){if(u.value!==null){const n=`inner${k.value===!0?"Text":"HTML"}`,l=u.value[n];l!==e.modelValue&&(x=l,o("update:modelValue",l))}}function W(n){if(o("keydown",n),n.ctrlKey!==!0||qe(n)===!0){z();return}const l=n.keyCode,h=I.value[l];if(h!==void 0){const{cmd:P,param:R}=h;Pe(n),E(P,R,!1)}}function N(n){z(),o("click",n)}function ne(n){if(u.value!==null){const{scrollTop:l,scrollHeight:h}=u.value;p=h-l}C.caret.save(),o("blur",n)}function le(n){gt(()=>{u.value!==null&&p!==void 0&&(u.value.scrollTop=u.value.scrollHeight-p)}),o("focus",n)}function ae(n){const l=w.value;if(l!==null&&l.contains(n.target)===!0&&(n.relatedTarget===null||l.contains(n.relatedTarget)!==!0)){const h=`inner${k.value===!0?"Text":"HTML"}`;C.caret.restorePosition(u.value[h].length),z()}}function K(n){const l=w.value;l!==null&&l.contains(n.target)===!0&&(n.relatedTarget===null||l.contains(n.relatedTarget)!==!0)&&(C.caret.savePosition(),z())}function G(){p=void 0}function V(n){C.caret.save()}function T(n,l){if(u.value!==null){l===!0&&C.caret.savePosition();const h=`inner${k.value===!0?"Text":"HTML"}`;u.value[h]=n,l===!0&&(C.caret.restorePosition(u.value[h].length),z())}}function E(n,l,h=!0){H(),C.caret.restore(),C.caret.apply(n,l,()=>{H(),C.caret.save(),h&&z()})}function z(){setTimeout(()=>{m.value=null,i.$forceUpdate()},1)}function H(){ct(()=>{u.value!==null&&u.value.focus({preventScroll:!0})})}function Ne(){return u.value}return _e(()=>{C.caret=i.caret=new Nt(u.value,C),T(e.modelValue),z(),document.addEventListener("selectionchange",V)}),ce(()=>{document.removeEventListener("selectionchange",V)}),Object.assign(i,{runCmd:E,refreshToolbar:z,focus:H,getContentEl:Ne}),()=>{let n;if(Z.value){const l=[b("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+O.value},Qt(C))];m.value!==null&&l.push(b("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+O.value},Dt(C))),n=b("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},l)}return b("div",{ref:w,class:Y.value,style:{height:v.value===!0?"100%":null},...te.value,onFocusin:ae,onFocusout:K},[n,b("div",{ref:u,style:j.value,class:ee.value,contenteditable:c.value,placeholder:e.placeholder,...y.listeners.value,onInput:oe,onKeydown:W,onClick:N,onBlur:ne,onFocus:le,onMousedown:G,onTouchstartPassive:G})])}}});const Ut=e=>(yt("data-v-28531652"),e=e(),wt(),e),Ft=Ut(()=>fe("div",{class:"text-h6"},"\uB9D0\uC500\uB4F1\uB85D",-1)),Mt={__name:"WordsRgstModal",props:{isDetail:{type:Boolean,default:!1},conType:{type:String,defulat:""}},emits:["insert-finish"],setup(e,{expose:t,emit:o}){const a=e,i=o,s=q(!0),r=q(!1);q({title:"",mltpYn:"N",items:[{qtnItemTitle:"",answerYn:"N"}]});const f=q({wordsTitle:"",wordsContents:""}),v=()=>{f.value.wordsTitle="",f.value.wordsContents=""},_=w=>{w&&a.isDetail&&(f.value.wordsTitle=w.wordsTitle,f.value.wordsContents=w.wordsContents,s.value=!s.value),r.value=!r.value},y=async()=>{let w="",u="",m={};a.isDetail?u="put":(w="/api/zion/rus/words/insert",u="post",m={wordsTitle:f.value.wordsTitle,wordsContents:f.value.wordsContents}),console.log("reqParams : ",m),A.show(),await me(w,{method:u,params:m}).then(k=>{k.data.header.code==="I001"?(r.value=!1,v(),i("insert-finish")):alert(k.data.header.message)})};return t({modalOpen:_}),(w,u)=>(D(),F(et,{modelValue:r.value,"onUpdate:modelValue":u[5]||(u[5]=m=>r.value=m),persistent:""},{default:S(()=>[g(rt,{class:"modal-container"},{default:S(()=>[g(st,{class:"row justify-between"},{default:S(()=>[Ft,g(L,{dense:"",flat:"",round:"",icon:"close",onClick:u[0]||(u[0]=m=>r.value=!r.value),class:"q-ml-md"})]),_:1}),g(dt,{readonly:!s.value,filled:"",modelValue:f.value.wordsTitle,"onUpdate:modelValue":u[1]||(u[1]=m=>f.value.wordsTitle=m),label:"\uC81C\uBAA9"},null,8,["readonly","modelValue"]),g(It,{placeholder:"\uB0B4\uC6A9\uC744 \uC785\uB825\uD574\uC8FC\uC138\uC694.",modelValue:f.value.wordsContents,"onUpdate:modelValue":u[2]||(u[2]=m=>f.value.wordsContents=m),toolbar:[[{icon:w.$q.iconSet.editor.align,fixedLabel:!0,options:["left","center","right","justify"]}],["bold","italic","strike","underline"],["print","insert_img"],[{icon:w.$q.iconSet.editor.formatting,list:"no-icons",options:["p","h1","h2","h3","h4","h5","h6","code"]},{icon:w.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]},{icon:w.$q.iconSet.editor.font,fixedIcon:!0,list:"no-icons",options:["default_font","arial","arial_black","comic_sans","courier_new","impact","lucida_grande","times_new_roman","verdana"]},"removeFormat"]],fonts:{arial:"Arial",arial_black:"Arial Black",comic_sans:"Comic Sans MS",courier_new:"Courier New",impact:"Impact",lucida_grande:"Lucida Grande",times_new_roman:"Times New Roman",verdana:"Verdana"}},null,8,["modelValue","toolbar"]),g(He,{align:"right"},{default:S(()=>[g(L,{label:"\uCDE8\uC18C",color:"secondary",onClick:u[3]||(u[3]=m=>r.value=!r.value)}),g(L,{label:"\uCD08\uAE30\uD654",color:"secondary",onClick:v}),a.isDetail?de("",!0):(D(),F(L,{key:0,label:"\uB4F1\uB85D",color:"primary",onClick:y})),a.isDetail&&!s.value?(D(),F(L,{key:1,label:"\uC218\uC815",color:"primary",onClick:u[4]||(u[4]=m=>s.value=!s.value)})):a.isDetail&&s.value?(D(),F(L,{key:2,label:"\uC81C\uCD9C",color:"primary",onClick:y})):de("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]))}};var jt=vt(Mt,[["__scopeId","data-v-28531652"]]);const Yt=[{name:"checked",required:!0,label:"\uC120\uD0DD",align:"center",field:e=>e.checked,format:e=>`${e}`},{name:"wordsTitle",required:!0,label:"\uC81C\uBAA9",align:"center",field:e=>e.contents},{name:"useYn",required:!0,label:"\uB178\uCD9C\uC5EC\uBD80",align:"center",field:e=>e.useYn},{name:"frstRegDate",required:!0,label:"\uB4F1\uB85D\uC77C",align:"center",field:e=>e.frstRegDate},{name:"frstRegId",required:!0,label:"\uB4F1\uB85D\uC790",align:"center",field:e=>e.frstRegId}],Wt={class:"q-ma-md"},Kt={class:"q-pa-lg flex flex-center"},Gt={class:"q-mt-md"},po={__name:"WordsMain",setup(e){const t=q(),o=q();q();const a=q(1),i=q(10),s=q([]);_e(()=>{v()});const r=()=>{Ot(),v()},f=c=>{k.value.rows=c;let d=k.value.totalRowsCnt/(k.value.currentPage*c);k.value.currentPage=d===0?1:d,v()},v=async()=>{A.show(),await me("/api/zion/rus/words/list",{method:"post",params:{rows:k.value.rows,currentPage:k.value.currentPage}}).then(c=>{if(console.log("res : ",c),c.data.header.code==="I001"){const d=c.data.body.list,p=c.data.body;if(s.value=[],d.length>0){for(let x=0;x<d.length;x++){let O=d[x];O.checked=!1,s.value.push({...O,checked:!1})}k.value.max=p.totalPageCnt,k.value.totalRowsCnt=p.totalRowsCnt}}A.hide()}).catch(()=>{A.hide()})},_=async c=>{console.log("toggle item : ",c);let d=c.row.useYn==="Y"?`'${c.row.wordsTitle}' \uC744(\uB97C) \uBE44\uB178\uCD9C\uD558\uC2DC\uAC9F\uC2B5\uB2C8\uAE4C?`:`'${c.row.wordsTitle}' \uC744(\uB97C) \uB178\uCD9C\uD558\uC2DC\uAC9F\uC2B5\uB2C8\uAE4C?`;if(confirm(d)){console.log("logic...");let x=c.row.useYn==="Y"?"N":"Y";A.show(),await y(c,x).then(O=>{console.log("res : ",O),O.data.header.code==="I001"?c.row.useYn=x:alert(O.data.header.message)}).catch(O=>{console.error(O)}).finally(()=>{A.hide()})}},y=(c,d)=>me("/api/zion/rus/words/update/use",{method:"put",params:{useYn:d,wordsSeq:c.row.wordsSeq}}),w=()=>{t.value.modalOpen()},u=()=>{let c=s.value.filter((d,p)=>d.checked);if(c.length===0)alert("\uC218\uC815\uD560 \uD56D\uBAA9\uC744 \uC120\uD0DD\uD574 \uC8FC\uC138\uC694.");else if(c.length>1)alert("\uC218\uC815\uD560 \uD56D\uBAA9\uC740 \uD558\uB098\uB9CC \uC120\uD0DD\uD574 \uC8FC\uC138\uC694.");else{let d=c[0];o.value.modalOpen(d)}},m=()=>{let c=[],d="";s.value.forEach((p,x)=>{p.checked&&(d+=course.courseNm+`
`,c.push(course))}),c.length>0&&(d=`\uCD1D ${c.length} \uAC74\uC744 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`,alert(d))},k=q({max:0,rows:10,currentPage:1,totalRowsCnt:0});return(c,d)=>(D(),kt("div",Wt,[g(Ae,{modelValue:a.value,"onUpdate:modelValue":d[2]||(d[2]=p=>a.value=p),ref:"stepper","alternative-labels":"",color:"primary",animated:""},{navigation:S(()=>[g(Qe,null,{default:S(()=>[g(L,{onClick:d[0]||(d[0]=p=>c.$refs.stepper.next()),color:"primary",label:a.value===3?"Finish":"Continue"},null,8,["label"]),a.value>1?(D(),F(L,{key:0,flat:"",color:"primary",onClick:d[1]||(d[1]=p=>c.$refs.stepper.previous()),label:"Back",class:"q-ml-sm"})):de("",!0)]),_:1})]),default:S(()=>[g(ie,{name:1,title:"1\uB2E8\uACC4",caption:"\uC870\uD68C",icon:"settings",done:a.value>1},{default:S(()=>[Q(" \uB9D0\uC500\uC744 \uAC80\uC0C9\uD558\uC138\uC694. ")]),_:1},8,["done"]),g(ie,{name:2,title:"2\uB2E8\uACC4",caption:"\uB4F1\uB85D",icon:"create_new_folder",done:a.value>2},{default:S(()=>[Q(" \uB4F1\uB85D\uBC84\uD2BC\uC744 \uD1B5\uD574 \uC0C8\uB85C\uC6B4 \uB9D0\uC500\uC744 \uB4F1\uB85D\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4. ")]),_:1},8,["done"]),g(ie,{name:3,title:"3\uB2E8\uACC4",caption:"\uC218\uC815/\uC0AD\uC81C",icon:"add_comment"},{default:S(()=>[Q(" \uB4F1\uB85D\uB41C \uB9D0\uC500\uC744 \uC218\uC815/\uC0AD\uC81C \uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4. ")]),_:1})]),_:1},8,["modelValue"]),g(nt,{title:"\uB9D0\uC500\uBAA9\uB85D",rows:s.value,columns:Yt,label:$t,color:"amber","hide-pagination":"",pagination:{rowsPerPage:0},"row-key":"name"},{"top-right":S(()=>[g(tt,{"map-options":"","emit-value":"",modelValue:i.value,"onUpdate:modelValue":[d[3]||(d[3]=p=>i.value=p),f],options:zt,label:void 0,"option-value":"value","option-label":"label"},null,8,["modelValue","options","label"])]),body:S(p=>[g(lt,{class:"no-wrap text-center"},{default:S(()=>[g(U,{key:"checked",style:{width:"100px"}},{default:S(()=>[g(ot,{modelValue:p.row.checked,"onUpdate:modelValue":x=>p.row.checked=x},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),g(U,{key:"wordsTitle"},{default:S(()=>[Q(re(p.row.wordsTitle),1)]),_:2},1024),g(U,{key:"useYn"},{default:S(()=>[g(at,{"true-value":"Y","false-value":"N","model-value":p.row.useYn,"onUpdate:modelValue":x=>_(p)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),g(U,{key:"frstRegDate"},{default:S(()=>[Q(re(p.row.frstRegDate),1)]),_:2},1024),g(U,{key:"frstRegId"},{default:S(()=>[Q(re(p.row.frstRegId),1)]),_:2},1024)]),_:2},1024)]),_:1},8,["rows","columns","label"]),fe("div",Kt,[g(it,{modelValue:k.value.currentPage,"onUpdate:modelValue":[d[4]||(d[4]=p=>k.value.currentPage=p),r],max:k.value.max},null,8,["modelValue","max"])]),fe("div",Gt,[g(L,{class:"q-mr-md",color:"primary",label:"\uB4F1\uB85D",onClick:d[5]||(d[5]=p=>w())}),g(L,{class:"q-mr-md",color:"white","text-color":"black",label:"\uC218\uC815",onClick:u}),g(L,{class:"q-mr-md",color:"white","text-color":"black",label:"\uC0AD\uC81C",onClick:m})]),g(jt,{ref_key:"wordsRgstModal",ref:t,onInsertFinish:d[6]||(d[6]=p=>v())},null,512)]))}};export{po as default};
